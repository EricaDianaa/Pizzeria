
@model w16_1.Models.Pizze

@{
    ViewBag.Title = "Dettagli";
}

<h2>DettagliPizza</h2>


@*@foreach(w16_1.Models.Pizze p in Model.Pizze)
    {

    }*@
<div class="card mb-3" style="max-width: 540px;">
    <div class="row g-0">
        <div class="col-md-4">
            <img src="~/Content/Img/@Html.DisplayFor(model => model.Foto)" class="img-fluid rounded-start" alt="...">
        </div>
        <div class="col-md-8">
            <div class="card-body">
                <h5 class="card-title"> @Html.DisplayFor(model => model.Nome)</h5>
                <p class="card-text"> @Html.DisplayFor(model => model.Prezzo)</p>
                <p class="card-text"><strong>Tempo di consegna: </strong>  @Html.DisplayFor(model => model.TempoConsegna)</p>
                <p class="card-text">  <strong>Ingredienti : </strong> @Html.DisplayFor(model => model.Ingredienti)  </p>


                    <strong>Quantità: </strong> <input type="number" name="Quantità" value="" id="quantità" />

                    <button type="submit" class="btn btn-primary mx-auto" id="Button">Aggiungi all'ordine'</button>


            </div>
        </div>
    </div>
</div>

@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {


            $("#Button").click(function () {
                console.log("Ordine", $("#quantità").val(),@Html.DisplayFor(model=> model.IdPizza))
                var prodotto = {
                Quantità: $("#quantità").val(), Prodotto: @Html.DisplayFor(model=> model.IdPizza) }
                sessionStorage.setItem("Ordine", JSON.stringify(prodotto))
              

                $.ajax({
                    method: "POST",
                    url: "../AggiungiOrdine",
                    data: { Quantità: prodotto.Quantità, IdPizza: prodotto.Prodotto },
                    success: function (data) {
                        console.log(data)
                       
                    }
                });








            })


        })

    </script>
    }